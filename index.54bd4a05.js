const e={version:"1.5.0",init(e=document.body){for(let t of e.querySelectorAll(".swiffy-slider"))this.initSlider(t)},initSlider(e){for(let t of e.querySelectorAll(".slider-nav")){let s=t.classList.contains("slider-nav-next");t.addEventListener("click",(()=>this.slide(e,s)),{passive:!0})}for(let t of e.querySelectorAll(".slider-indicators"))t.addEventListener("click",(()=>this.slideToByIndicator())),this.onSlideEnd(e,(()=>this.handleIndicators(e)),60);if(e.classList.contains("slider-nav-autoplay")){const t=e.getAttribute("data-slider-nav-autoplay-interval")?e.getAttribute("data-slider-nav-autoplay-interval"):2500;this.autoPlay(e,t,e.classList.contains("slider-nav-autopause"))}if(["slider-nav-autohide","slider-nav-animation"].some((t=>e.classList.contains(t)))){const t=e.getAttribute("data-slider-nav-animation-threshold")?e.getAttribute("data-slider-nav-animation-threshold"):.3;this.setVisibleSlides(e,t)}},setVisibleSlides(e,t=.3){let s=new IntersectionObserver((t=>{t.forEach((e=>{e.isIntersecting?e.target.classList.add("slide-visible"):e.target.classList.remove("slide-visible")})),e.querySelector(".slider-container>*:first-child").classList.contains("slide-visible")?e.classList.add("slider-item-first-visible"):e.classList.remove("slider-item-first-visible"),e.querySelector(".slider-container>*:last-child").classList.contains("slide-visible")?e.classList.add("slider-item-last-visible"):e.classList.remove("slider-item-last-visible")}),{root:e.querySelector(".slider-container"),threshold:t});for(let t of e.querySelectorAll(".slider-container>*"))s.observe(t)},slide(e,t=!0){const s=e.querySelector(".slider-container"),i=e.classList.contains("slider-nav-page"),o=e.classList.contains("slider-nav-noloop"),r=e.classList.contains("slider-nav-nodelay"),l=s.children,n=parseInt(window.getComputedStyle(s).columnGap),a=l[0].offsetWidth+n;let c=t?s.scrollLeft+a:s.scrollLeft-a;i&&(c=t?s.scrollLeft+s.offsetWidth:s.scrollLeft-s.offsetWidth),s.scrollLeft<1&&!t&&!o&&(c=s.scrollWidth-s.offsetWidth),s.scrollLeft>=s.scrollWidth-s.offsetWidth&&t&&!o&&(c=0),s.scroll({left:c,behavior:r?"auto":"smooth"})},slideToByIndicator(){const e=window.event.target,t=Array.from(e.parentElement.children).indexOf(e),s=e.parentElement.children.length,i=e.closest(".swiffy-slider"),o=i.querySelector(".slider-container").children.length/s*t;this.slideTo(i,o)},slideTo(e,t){const s=e.querySelector(".slider-container"),i=parseInt(window.getComputedStyle(s).columnGap),o=s.children[0].offsetWidth+i,r=e.classList.contains("slider-nav-nodelay");s.scroll({left:o*t,behavior:r?"auto":"smooth"})},onSlideEnd(e,t,s=125){let i;e.querySelector(".slider-container").addEventListener("scroll",(function(){window.clearTimeout(i),i=setTimeout(t,s)}),{capture:!1,passive:!0})},autoPlay(e,t,s){t=t<750?750:t;let i=setInterval((()=>this.slide(e)),t);const o=()=>this.autoPlay(e,t,s);return s&&(["mouseover","touchstart"].forEach((function(t){e.addEventListener(t,(function(){window.clearTimeout(i)}),{once:!0,passive:!0})})),["mouseout","touchend"].forEach((function(t){e.addEventListener(t,(function(){o()}),{once:!0,passive:!0})}))),i},handleIndicators(e){const t=e.querySelector(".slider-container"),s=t.scrollWidth-t.offsetWidth,i=t.scrollLeft/s;for(let t of e.querySelectorAll(".slider-indicators")){let e=t.children,s=Math.abs(Math.round((e.length-1)*i));for(let t of e)t.classList.remove("active");e[s].classList.add("active")}}};window.swiffyslider=e,document.currentScript.hasAttribute("data-noinit")||window.addEventListener("load",(()=>{e.init()})),window.swiffyslider={}.swiffyslider,window.addEventListener("load",(()=>{window.swiffyslider.init()}));let t=window.scrollY;const s=document.querySelector(".header"),i=s.offsetHeight;window.addEventListener("scroll",(function(){t=window.scrollY,t>=i?s.classList.add("header--onscroll"):s.classList.remove("header--onscroll")}));const o=document.querySelector(".hamburger"),r=document.querySelector(".menu"),l=r.querySelectorAll(".menu__link"),n=()=>{o.classList.toggle("hamburger--isopen"),r.classList.toggle("menu--isopen")};o.addEventListener("click",n),l.forEach((e=>e.addEventListener("click",n)));const a=document.querySelectorAll(".section");window.addEventListener("scroll",(()=>{let e="";a.forEach((t=>{const s=t.offsetTop,i=t.clientHeight;window.scrollY>=s-i/4&&(e=t.getAttribute("id"))})),l.forEach((t=>{t.classList.remove("menu__link--active"),t.classList.contains(e)&&t.classList.add("menu__link--active")}))}));const c=document.querySelector("#contactForm"),d=c.querySelectorAll("input[required], textarea[required]");c.setAttribute("novalidate",!0);const u=function(e){const t=e.closest(".form-row").querySelector(".field-error");null!==t&&t.remove()};[...d].forEach((e=>{e.addEventListener("input",(function(){this.checkValidity()?(this.classList.remove("error"),u(this)):this.classList.add("error")}))}));const f=function(e){let t=!0;return[...e].forEach((e=>{e.checkValidity()?(u(e),e.classList.remove("error")):(!function(e){const t=e.closest(".form-row");if(null===t.querySelector(".field-error")){const s=e.dataset.error,i=document.createElement("div");i.classList.add("field-error"),i.innerText=s,t.appendChild(i)}}(e),e.classList.add("error"),t=!1)})),t};c.addEventListener("submit",(function(e){if(e.preventDefault(),f(d)){const e=c.querySelectorAll("input:not(:disabled), textarea:not(:disabled), select:not(:disabled)"),t=new FormData;[...e].forEach((e=>t.append(e.name,e.value)));const s=c.getAttribute("action"),i=c.getAttribute("method"),o=c.querySelector('[type="submit"]');o.disabled=!0,o.classList.add("element-is-busy"),fetch(s,{method:i.toUpperCase(),body:t}).then((e=>e.json())).then((e=>{if(o.disabled=!1,o.classList.remove("element-is-busy"),e.errors){e.errors.map((function(e){return'[name="'+e+'"]'}));const t=e.errors.join(",");f(c.querySelectorAll(t))}else{if("ok"===e.status){const e=document.createElement("div");e.classList.add("form-send-success"),e.innerText="Wysłanie wiadomości się powiodło się",c.parentElement.insertBefore(e,c),e.innerHTML="<strong>Wiadomość została wysłana.</strong><span> Dziękujemy za kontakt. Postaramy się odpowiedzieć jak najszybciej.</span>",c.reset()}if("error"===e.status){const e=document.createElement("div");e.classList.add("send-error"),e.innerText="Wysłanie wiadomości się nie powiodło"}}})).catch((e=>{o.disabled=!1,o.classList.remove("element-is-busy")}))}}));